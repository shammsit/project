<%- include('partials/header', { title: 'Signup' }) %>

<main>
    <div class="login-container"> <!-- Using the same container as the login page -->
        <h3>CREATE ACCOUNT</h3>
        <form id="signup-form">
            <!-- Form Fields -->
            <div class="input-group">
                <input type="text" name="name" placeholder="Name" required>
            </div>
            <div class="input-group">
                <input type="text" name="username" placeholder="Username (GitHub User ID)" required>
            </div>
            <div class="input-group">
                <input type="password" name="password" placeholder="Password" required>
            </div>
            <div class="mobile-group">
                <input type="text" name="countryCode" id="country-code" value="+91">
                <input type="tel" name="mobile" placeholder="Mobile Number" required>
            </div>
            <div class="input-group">
                <input type="email" name="email" placeholder="Email ID" required>
            </div>
            <div class="input-group">
                <select name="projectName" required>
                    <option value="" disabled selected>Select Project Name</option>
                    <!-- Dynamically populated project names -->
                    <% if (projectNames && projectNames.length > 0) { %>
                        <% projectNames.forEach(name => { %>
                            <option value="<%= name %>"><%= name %></option>
                        <% }); %>
                    <% } %>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="input-group">
                <select name="role" required>
                    <option value="" disabled selected>Select Role</option>
                    <option value="Designer">Designer</option>
                    <option value="Database Controller">Database Controller</option>
                    <option value="Front End Developer">Front End Developer</option>
                    <option value="Backend Developer">Backend Developer</option>
                    <option value="Researcher">Researcher</option>
                    <option value="Presenter">Presenter</option>
                    <option value="Overall Presenter">Overall Presenter</option>
                    <option value="Manager">Manager</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <!-- CAPTCHA Section -->
            <div class="captcha-container">
                <div id="captcha-box"></div>
                <button type="button" id="refresh-captcha" class="refresh-btn"><i class="fas fa-sync-alt"></i></button>
            </div>
            <div class="input-group">
                <input type="text" id="captcha-input" placeholder="Enter Captcha" required>
            </div>

            <button type="submit" class="signup-btn">Submit Application</button>
            <p id="form-message"></p>
            <div class="login-link">
                <span>Already have an account?</span>
                <a href="/" class="btn secondary-btn">Sign In</a>
            </div>
        </form>
    </div>
</main>

<!-- This script is required for the CAPTCHA to work -->
<script src="/js/signup.js"></script>
<%- include('partials/footer') %>
